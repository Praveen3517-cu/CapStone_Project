tasks:
  - name: Setup Environment
    init: |
      # Install system dependencies
      sudo apt-get update
      sudo apt-get install -y \
          libatk1.0-0 \
          libatk-bridge2.0-0 \
          libcups2 \
          libdrm2 \
          libatspi2.0-0 \
          libxcomposite1 \
          libxdamage1 \
          libxfixes3 \
          libxrandr2 \
          libgbm1 \
          libxkbcommon0 \
          libpango-1.0-0 \
          libcairo2

      # Install Python dependencies
      pip install --upgrade pip
      pip install -r requirements.txt
      
      # Install Playwright browsers
      python -m playwright install chromium
      
      # Start MongoDB
      docker run -d --name mongodb -p 27017:27017 -v /workspace/mongo-data:/data/db mongo:6.0 --bind_ip_all

vscode:
  extensions:
    - ms-python.python
    - ms-playwright.playwright
